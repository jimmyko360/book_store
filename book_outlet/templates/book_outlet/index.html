{% extends "book_outlet/base.html" %}

{% block title %}
  All Books
{% endblock %}

{% block content %}
  <h1>
    All Books ({{ book_count }})
  </h1>

  <h3>
    Average Rating: {{ average_rating.rating__avg }}
  </h3>

  <ul>
    {% for book in book_list %}
      <li>
        <a href="{{ book.get_absolute_url }}">
          {{ book.title }} - {{ book.author }} (Rating: {{ book.rating }})
        </a>
      </li>
    {% endfor %}
  </ul>
{% endblock %}

{% comment %}
  here, we can use get_absolute_url because we have overridden that to call our book_by_id endpoint which returns book_detail.html
{% endcomment %}